<!DOCTYPE html>
<html>
<head>
    <title>rplc client</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato&display=swap');
        body{
            font-family: 'Lato', sans-serif;
        }
        #project-name{
            position: fixed;
            top: 20px;
            left: 20px;
        }
        #connection-form{
            position: fixed;
            padding: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
        span{
            color: royalblue;
            cursor: help;
        }
        input{
            margin: 0px 0px;
            padding: 10px 5px;
            font-size: 24px;
            border: none;
            border-radius: 0;
            border-bottom: 1px solid black;
        }
        input:focus{
            border-bottom: 1px solid royalblue;
            outline: none;
        }
    </style>
    <script>
        var ws;
        function connectToHost(event){
            ws = new WebSocket("ws://"+document.getElementById("host").value+"/ws");
            ws.onerror = function(){console.log("connection error")}
            ws.onopen = function(){
                console.log('connected');
                document.getElementById("connection-form").style.visibility="hidden";
            };
            ws.onmessage = function(msg){console.log(msg)};
            
            event.preventDefault();
        }
    </script>
</head>
<body>
    <div id="project-name">rpi-pico-light-controller</div>
    <div id="connection-form"">
        Host IP <span title="Connect to the IP of the host in your local network">(?)</span><br>
        <form action="" onsubmit="connectToHost(event)">
            <input id="host" type="text" placeholder="xxx.xxx.xxx.xxx" pattern="\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b">
        </form>
    </div>
</body>
</html>
